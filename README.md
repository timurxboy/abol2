# Image Processing API

## Описание проекта

Проект представляет собой REST API для управления изображениями и их обработки. Реализован на Django и включает операции загрузки, получения, обновления и удаления изображений. API также поддерживает аутентификацию с JWT и отправку событий в брокер сообщений RabbitMQ при изменениях, связанных с изображениями.

## Функциональность

1. **CRUD-операции с изображениями:**:
    - Загрузка изображения.
    - Получение списка всех изображений.
    - Получение информации об изображении по ID.
    - Обновление информации об изображении.
    - Удаление изображения.
2. **Обработка изображений**:
   - Сохранение исходного изображения.
   - Создание уменьшенных копий (100x100, 500x500, 1000x1000) и преобразование их в оттенки серого.
3. **Аутентификация**:
    - Использование JWT для аутентификации пользователей.
    - CRUD операции доступны только аутентифицированным пользователям.
4. **База данных**:
    - Хранение данных в PostgreSQL .
    - Миграции базы данных с использованием встроенных средств Django.
5. **Брокер сообщений**:
    - RabbitMQ используется для отправки событий при загрузке, обновлении или удалении изображений.
    - Логи событий выводятся в консоль.
6. **Кэширование**:
    - Кэширование списка изображений и отдельных изображений с использованием Redis.
7. **Docker**:
    - Контейнеризация веб-приложения, базы данных, Redis и брокера сообщений с использованием Docker.
8.  **Документация**:
    - Автоматическая генерация документации API через Swagger для веб-приложения.


## Технологии

- **Языки программирования**: Python
- **Фреймворки**: Django 
- **База данных**: PostgreSQL
- **Брокер сообщений**: RabbitMQ
- **Аутентификация**: JWT
- **Контейнеризация**: Docker, Docker Compose
- **Кэширование**: Redis 


# Установка и запуск

## Клонирование репозитория

```
git clone https://github.com/timurxboy/abol2.git
cd abol2
```


## Настройка окружения

Создайте файл .env в корневой директории проекта и добавьте переменные окружения:

```
DB_USER=your-db-user
DB_PASSWORD=your-db-password
DB_NAME=your-db-name
DB_PORT=5432
```

## Docker

Соберите контейнеры и запустите проект:

```
docker-compose up --build
```

Это поднимет следующие сервисы:

- Брокер сообщений (RabbitMQ)
- Redis
- База данных (PostgreSQL)
- Server (Django)


## Миграции базы данных

```
docker-compose exec server python manage.py migrate
```

## API документация
После запуска веб-приложения документация будет доступна по следующим URL:

Swagger: http://localhost:8000/api/docs/